# ğŸš€ æ™ºèƒ½é—®ç­”ç³»ç»Ÿ v3.0 - æœåŠ¡å™¨è¿ç§»æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯
- **é¡¹ç›®åç§°**: aq_note_injection (æ™ºèƒ½é—®ç­”ç³»ç»Ÿ)
- **ç‰ˆæœ¬**: v3.0 å®Œæ•´è§£è€¦ç‰ˆ
- **è¿ç§»æ–¹å¼**: ä¼ ç»Ÿéƒ¨ç½²ï¼ˆéDockerï¼‰
- **ç”Ÿæˆæ—¶é—´**: 2025-01-07

---

## ğŸ¯ è¿ç§»æ¦‚è¿°

### ç³»ç»Ÿæ¶æ„
```
ç”Ÿäº§æœåŠ¡å™¨æ¶æ„
â”œâ”€â”€ Nginx (ç«¯å£80/443) - åå‘ä»£ç†å’Œé™æ€æ–‡ä»¶æœåŠ¡
â”œâ”€â”€ Node.js (ç«¯å£3001) - å‰ç«¯åº”ç”¨æœåŠ¡å™¨
â”œâ”€â”€ Python FastAPI (ç«¯å£8000) - åç«¯APIæœåŠ¡
â””â”€â”€ MySQL (ç«¯å£3306) - æ•°æ®åº“æœåŠ¡
```

### æœåŠ¡åˆ†å¸ƒ
- **WebæœåŠ¡å™¨**: Nginx åå‘ä»£ç†
- **å‰ç«¯æœåŠ¡**: Node.js + Express (qa-system-v3/)
- **åç«¯æœåŠ¡**: Python FastAPI (qa-system-v3/backend/)
- **æ•°æ®åº“**: MySQL 8.0
- **è¿›ç¨‹ç®¡ç†**: PM2

---

## ğŸ› ï¸ æœåŠ¡å™¨ç¯å¢ƒè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04 LTS / CentOS 8+ / Debian 11+
- **å†…å­˜**: æœ€ä½ 2GBï¼Œæ¨è 4GB+
- **ç¡¬ç›˜**: æœ€ä½ 10GBï¼Œæ¨è 20GB+
- **ç½‘ç»œ**: å…¬ç½‘IPï¼Œå¼€æ”¾ç«¯å£ 80, 443

### è½¯ä»¶ä¾èµ–
- **Node.js**: v16.0.0+
- **Python**: v3.9+
- **MySQL**: v8.0+
- **Nginx**: v1.18+
- **PM2**: è¿›ç¨‹ç®¡ç†å™¨

---

## ğŸ“¦ ç¬¬ä¸€é˜¶æ®µï¼šæœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡

### 1. ç³»ç»Ÿæ›´æ–°å’ŒåŸºç¡€è½¯ä»¶å®‰è£…

```bash
# Ubuntu/Debian ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y
sudo apt install -y curl wget git unzip build-essential

# CentOS ç³»ç»Ÿ
sudo yum update -y
sudo yum groupinstall -y "Development Tools"
sudo yum install -y curl wget git unzip
```

### 2. å®‰è£… Node.js

```bash
# ä½¿ç”¨ NodeSource å®˜æ–¹æº
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# æˆ–è€…ä½¿ç”¨ nvm (æ¨è)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
source ~/.bashrc
nvm install 18
nvm use 18
nvm alias default 18
```

### 3. å®‰è£… Python 3.9+

```bash
# Ubuntu 20.04+
sudo apt install -y python3 python3-pip python3-venv python3-dev

# å®‰è£…è™šæ‹Ÿç¯å¢ƒ
sudo pip3 install virtualenv
```

### 4. å®‰è£… MySQL 8.0

```bash
# Ubuntu/Debian
sudo apt install -y mysql-server mysql-client

# å®‰å…¨é…ç½®
sudo mysql_secure_installation

# åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
sudo mysql -u root -p
```

```sql
-- MySQL é…ç½®
CREATE DATABASE qa_system_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'qa_user'@'localhost' IDENTIFIED BY 'your_secure_password';
GRANT ALL PRIVILEGES ON qa_system_db.* TO 'qa_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

### 5. å®‰è£… Nginx

```bash
sudo apt install -y nginx
sudo systemctl enable nginx
sudo systemctl start nginx
```

### 6. å®‰è£… PM2

```bash
sudo npm install -g pm2
pm2 startup
# æ‰§è¡Œè¾“å‡ºçš„å¯åŠ¨å‘½ä»¤
```

---

## ğŸ“‚ ç¬¬äºŒé˜¶æ®µï¼šé¡¹ç›®æ–‡ä»¶éƒ¨ç½²

### 1. åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
# åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•
sudo mkdir -p /var/www/qa-system
sudo chown -R $USER:$USER /var/www/qa-system
cd /var/www/qa-system
```

### 2. ä¸Šä¼ é¡¹ç›®æ–‡ä»¶

```bash
# æ–¹å¼1ï¼šä½¿ç”¨ scp ä¸Šä¼ 
scp -r ./qa-system-v3 user@server_ip:/var/www/qa-system/

# æ–¹å¼2ï¼šä½¿ç”¨ Git å…‹éš†
git clone your-git-repo.git .

# æ–¹å¼3ï¼šä½¿ç”¨ rsync åŒæ­¥
rsync -avz --progress ./qa-system-v3/ user@server_ip:/var/www/qa-system/
```

### 3. è®¾ç½®ç›®å½•ç»“æ„

```bash
cd /var/www/qa-system
mkdir -p logs data backups ssl

# è®¾ç½®æƒé™
sudo chown -R www-data:www-data /var/www/qa-system
sudo chmod -R 755 /var/www/qa-system
```

---

## âš™ï¸ ç¬¬ä¸‰é˜¶æ®µï¼šå‰ç«¯æœåŠ¡é…ç½®

### 1. å®‰è£… Node.js ä¾èµ–

```bash
cd /var/www/qa-system/qa-system-v3
npm install --production

# å¦‚æœæ ¹ç›®å½•ä¹Ÿæœ‰ package.json
cd /var/www/qa-system
npm install --production
```

### 2. ä¿®æ”¹é…ç½®æ–‡ä»¶

åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½®ï¼š`/var/www/qa-system/qa-system-v3/config/production.js`

```javascript
module.exports = {
    port: 3001,
    host: '127.0.0.1',
    cors: {
        origin: ['https://yourdomain.com', 'https://www.yourdomain.com'],
        credentials: true
    },
    api: {
        baseUrl: 'http://127.0.0.1:8000'
    },
    logging: {
        level: 'info',
        file: '/var/www/qa-system/logs/frontend.log'
    }
};
```

### 3. æ›´æ–° simple-server.js

```javascript
// åœ¨ simple-server.js é¡¶éƒ¨æ·»åŠ 
const config = require('./config/production');
const PORT = process.env.PORT || config.port || 3001;
const HOST = process.env.HOST || config.host || '127.0.0.1';

// æ›´æ–°ç›‘å¬é…ç½®
app.listen(PORT, HOST, () => {
    console.log(`ğŸš€ å‰ç«¯æœåŠ¡å¯åŠ¨æˆåŠŸ`);
    console.log(`ğŸ“ åœ°å€: http://${HOST}:${PORT}`);
    console.log(`ğŸ• æ—¶é—´: ${new Date().toISOString()}`);
});
```

### 4. åˆ›å»º PM2 é…ç½®

åˆ›å»º `/var/www/qa-system/ecosystem.config.js`ï¼š

```javascript
module.exports = {
  apps: [
    {
      name: 'qa-frontend',
      script: 'qa-system-v3/simple-server.js',
      cwd: '/var/www/qa-system',
      instances: 1,
      exec_mode: 'fork',
      watch: false,
      env: {
        NODE_ENV: 'production',
        PORT: 3001,
        HOST: '127.0.0.1'
      },
      error_file: '/var/www/qa-system/logs/frontend-error.log',
      out_file: '/var/www/qa-system/logs/frontend-out.log',
      log_file: '/var/www/qa-system/logs/frontend.log',
      time: true,
      max_memory_restart: '500M'
    }
  ]
};
```

---

## ğŸ ç¬¬å››é˜¶æ®µï¼šåç«¯æœåŠ¡é…ç½®

### 1. åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ

```bash
cd /var/www/qa-system/qa-system-v3/backend
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
```

### 2. åˆ›å»ºç¯å¢ƒé…ç½®

åˆ›å»º `/var/www/qa-system/qa-system-v3/backend/.env.production`ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=mysql+pymysql://qa_user:your_secure_password@localhost:3306/qa_system_db

# JWT é…ç½®
SECRET_KEY=your_super_secret_key_here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Redis é…ç½®ï¼ˆå¯é€‰ï¼‰
REDIS_URL=redis://localhost:6379/0

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
LOG_FILE=/var/www/qa-system/logs/backend.log

# API é…ç½®
API_HOST=127.0.0.1
API_PORT=8000
CORS_ORIGINS=["https://yourdomain.com", "https://www.yourdomain.com"]

# AI æœåŠ¡é…ç½®ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
OPENAI_API_KEY=your_openai_api_key
```

### 3. æ•°æ®åº“åˆå§‹åŒ–

```bash
cd /var/www/qa-system/qa-system-v3/backend
source venv/bin/activate

# å¦‚æœæœ‰è¿ç§»è„šæœ¬
python -m alembic upgrade head

# æˆ–è€…ç›´æ¥è¿è¡Œåˆå§‹åŒ–è„šæœ¬
python scripts/init_db.py
```

### 4. æ›´æ–° PM2 é…ç½®

åœ¨ `ecosystem.config.js` ä¸­æ·»åŠ åç«¯åº”ç”¨ï¼š

```javascript
{
  name: 'qa-backend',
  script: 'qa-system-v3/backend/venv/bin/python',
  args: '-m uvicorn main:app --host 127.0.0.1 --port 8000',
  cwd: '/var/www/qa-system/qa-system-v3/backend',
  interpreter: 'none',
  instances: 1,
  exec_mode: 'fork',
  watch: false,
  env: {
    PYTHONPATH: '/var/www/qa-system/qa-system-v3/backend',
    ENV_FILE: '.env.production'
  },
  error_file: '/var/www/qa-system/logs/backend-error.log',
  out_file: '/var/www/qa-system/logs/backend-out.log',
  log_file: '/var/www/qa-system/logs/backend.log',
  time: true,
  max_memory_restart: '1G'
}
```

---

## ğŸŒ ç¬¬äº”é˜¶æ®µï¼šNginx é…ç½®

### 1. åˆ›å»ºç«™ç‚¹é…ç½®

åˆ›å»º `/etc/nginx/sites-available/qa-system`ï¼š

```nginx
server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;
    
    # é‡å®šå‘åˆ° HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name yourdomain.com www.yourdomain.com;
    
    # SSL é…ç½®
    ssl_certificate /etc/ssl/certs/yourdomain.crt;
    ssl_certificate_key /etc/ssl/private/yourdomain.key;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;
    ssl_prefer_server_ciphers off;
    
    # æ—¥å¿—é…ç½®
    access_log /var/log/nginx/qa-system-access.log;
    error_log /var/log/nginx/qa-system-error.log;
    
    # å®‰å…¨å¤´
    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection "1; mode=block";
    
    # æ ¹ç›®å½•é‡å®šå‘
    location / {
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 86400;
    }
    
    # API è·¯ç”±åˆ°åç«¯
    location /api/ {
        proxy_pass http://127.0.0.1:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 86400;
    }
    
    # é™æ€æ–‡ä»¶ç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        proxy_pass http://127.0.0.1:3001;
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header X-Content-Type-Options nosniff;
    }
    
    # å¥åº·æ£€æŸ¥
    location /health {
        proxy_pass http://127.0.0.1:3001/health;
        access_log off;
    }
}
```

### 2. å¯ç”¨ç«™ç‚¹

```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/qa-system /etc/nginx/sites-enabled/

# åˆ é™¤é»˜è®¤ç«™ç‚¹
sudo rm /etc/nginx/sites-enabled/default

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡æ–°åŠ è½½é…ç½®
sudo systemctl reload nginx
```

---

## ğŸ”’ ç¬¬å…­é˜¶æ®µï¼šSSL è¯ä¹¦é…ç½®

### 1. ä½¿ç”¨ Let's Encrypt (æ¨è)

```bash
# å®‰è£… Certbot
sudo apt install -y certbot python3-certbot-nginx

# ç”³è¯·è¯ä¹¦
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# è‡ªåŠ¨ç»­æœŸ
sudo crontab -e
# æ·»åŠ : 0 12 * * * /usr/bin/certbot renew --quiet
```

### 2. ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ (æµ‹è¯•ç”¨)

```bash
sudo mkdir -p /etc/ssl/private
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout /etc/ssl/private/yourdomain.key \
    -out /etc/ssl/certs/yourdomain.crt
```

---

## ğŸš€ ç¬¬ä¸ƒé˜¶æ®µï¼šæœåŠ¡å¯åŠ¨å’Œç®¡ç†

### 1. å¯åŠ¨æ‰€æœ‰æœåŠ¡

```bash
# å¯åŠ¨ MySQL
sudo systemctl start mysql
sudo systemctl enable mysql

# å¯åŠ¨ PM2 åº”ç”¨
cd /var/www/qa-system
pm2 start ecosystem.config.js

# ä¿å­˜ PM2 é…ç½®
pm2 save

# å¯åŠ¨ Nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### 2. æœåŠ¡ç®¡ç†å‘½ä»¤

```bash
# PM2 æœåŠ¡ç®¡ç†
pm2 status                    # æŸ¥çœ‹çŠ¶æ€
pm2 logs                      # æŸ¥çœ‹æ—¥å¿—
pm2 restart all               # é‡å¯æ‰€æœ‰åº”ç”¨
pm2 reload all                # æ— åœæœºé‡è½½
pm2 stop all                  # åœæ­¢æ‰€æœ‰åº”ç”¨

# å•ä¸ªåº”ç”¨ç®¡ç†
pm2 restart qa-frontend       # é‡å¯å‰ç«¯
pm2 restart qa-backend        # é‡å¯åç«¯
pm2 logs qa-frontend          # æŸ¥çœ‹å‰ç«¯æ—¥å¿—
```

### 3. ç³»ç»ŸæœåŠ¡çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status nginx
sudo systemctl status mysql
pm2 status

# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep -E ':80|:443|:3001|:8000|:3306'

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep -E 'nginx|node|python|mysql'
```

---

## ğŸ“Š ç¬¬å…«é˜¶æ®µï¼šç›‘æ§å’Œæ—¥å¿—

### 1. æ—¥å¿—ç®¡ç†

```bash
# åˆ›å»ºæ—¥å¿—è½®è½¬é…ç½®
sudo vim /etc/logrotate.d/qa-system
```

```
/var/www/qa-system/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 www-data www-data
    postrotate
        pm2 reloadLogs
    endscript
}
```

### 2. ç³»ç»Ÿç›‘æ§è„šæœ¬

åˆ›å»º `/var/www/qa-system/scripts/monitor.sh`ï¼š

```bash
#!/bin/bash

# ç³»ç»Ÿç›‘æ§è„šæœ¬
LOGFILE="/var/www/qa-system/logs/monitor.log"

echo "[$(date)] å¼€å§‹ç³»ç»Ÿæ£€æŸ¥" >> $LOGFILE

# æ£€æŸ¥ PM2 åº”ç”¨çŠ¶æ€
if ! pm2 describe qa-frontend > /dev/null 2>&1; then
    echo "[$(date)] å‰ç«¯æœåŠ¡å¼‚å¸¸ï¼Œå°è¯•é‡å¯" >> $LOGFILE
    pm2 restart qa-frontend
fi

if ! pm2 describe qa-backend > /dev/null 2>&1; then
    echo "[$(date)] åç«¯æœåŠ¡å¼‚å¸¸ï¼Œå°è¯•é‡å¯" >> $LOGFILE
    pm2 restart qa-backend
fi

# æ£€æŸ¥ç£ç›˜ç©ºé—´
DISK_USAGE=$(df / | grep -vE '^Filesystem' | awk '{print $5}' | sed 's/%//g')
if [ $DISK_USAGE -gt 80 ]; then
    echo "[$(date)] ç£ç›˜ç©ºé—´ä¸è¶³: ${DISK_USAGE}%" >> $LOGFILE
fi

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
MEM_USAGE=$(free | grep Mem | awk '{printf("%.1f", $3/$2 * 100.0)}')
if (( $(echo "$MEM_USAGE > 80" | bc -l) )); then
    echo "[$(date)] å†…å­˜ä½¿ç”¨è¿‡é«˜: ${MEM_USAGE}%" >> $LOGFILE
fi

echo "[$(date)] ç³»ç»Ÿæ£€æŸ¥å®Œæˆ" >> $LOGFILE
```

### 3. æ·»åŠ å®šæ—¶ä»»åŠ¡

```bash
sudo crontab -e
# æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

# æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ç³»ç»ŸçŠ¶æ€
*/5 * * * * /var/www/qa-system/scripts/monitor.sh

# æ¯å¤©å‡Œæ™¨å¤‡ä»½æ•°æ®åº“
0 2 * * * mysqldump -u qa_user -p'your_password' qa_system_db > /var/www/qa-system/backups/db_backup_$(date +\%Y\%m\%d).sql

# æ¯å‘¨æ¸…ç†æ—§æ—¥å¿—
0 0 * * 0 find /var/www/qa-system/logs -name "*.log" -mtime +7 -delete
```

---

## ğŸ”§ ç¬¬ä¹é˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ–

### 1. Nginx ä¼˜åŒ–

åœ¨ `/etc/nginx/nginx.conf` ä¸­ä¼˜åŒ–ï¼š

```nginx
# å·¥ä½œè¿›ç¨‹æ•°
worker_processes auto;

# è¿æ¥æ•°ä¼˜åŒ–
events {
    worker_connections 2048;
    use epoll;
}

http {
    # å¯ç”¨ gzip å‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1000;
    gzip_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/xml+rss
        application/javascript
        application/json;
    
    # ç¼“å­˜é…ç½®
    open_file_cache max=1000 inactive=20s;
    open_file_cache_valid 30s;
    open_file_cache_min_uses 2;
    open_file_cache_errors on;
}
```

### 2. Node.js åº”ç”¨ä¼˜åŒ–

æ›´æ–° PM2 é…ç½®ï¼š

```javascript
{
  name: 'qa-frontend',
  script: 'qa-system-v3/simple-server.js',
  instances: 'max',  // ä½¿ç”¨æ‰€æœ‰CPUæ ¸å¿ƒ
  exec_mode: 'cluster',  // é›†ç¾¤æ¨¡å¼
  // ... å…¶ä»–é…ç½®
}
```

### 3. MySQL ä¼˜åŒ–

åœ¨ `/etc/mysql/mysql.conf.d/mysqld.cnf` ä¸­æ·»åŠ ï¼š

```ini
[mysqld]
# å†…å­˜é…ç½®
innodb_buffer_pool_size = 1G
query_cache_size = 128M
query_cache_limit = 2M

# è¿æ¥é…ç½®
max_connections = 500
max_connect_errors = 100000

# æ—¥å¿—é…ç½®
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2
```

---

## ğŸ›¡ï¸ ç¬¬åé˜¶æ®µï¼šå®‰å…¨åŠ å›º

### 1. é˜²ç«å¢™é…ç½®

```bash
# Ubuntu UFW
sudo ufw enable
sudo ufw allow 22/tcp      # SSH
sudo ufw allow 80/tcp      # HTTP
sudo ufw allow 443/tcp     # HTTPS
sudo ufw deny 3001/tcp     # ç¦æ­¢ç›´æ¥è®¿é—®Node.js
sudo ufw deny 8000/tcp     # ç¦æ­¢ç›´æ¥è®¿é—®FastAPI

# CentOS firewalld
sudo firewall-cmd --permanent --add-service=ssh
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### 2. SSH å®‰å…¨é…ç½®

ç¼–è¾‘ `/etc/ssh/sshd_config`ï¼š

```
Port 22
PermitRootLogin no
PasswordAuthentication no
PubkeyAuthentication yes
AllowUsers your_username
```

### 3. åº”ç”¨å®‰å…¨é…ç½®

åœ¨ Node.js åº”ç”¨ä¸­æ·»åŠ å®‰å…¨ä¸­é—´ä»¶ï¼š

```javascript
const helmet = require('helmet');
const rateLimit = require('express-rate-limit');

app.use(helmet());
app.use(rateLimit({
    windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ
    max: 100 // é™åˆ¶æ¯ä¸ªIP 100æ¬¡è¯·æ±‚
}));
```

---

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### âœ… ç¯å¢ƒå‡†å¤‡
- [ ] æœåŠ¡å™¨ç³»ç»Ÿæ›´æ–°
- [ ] Node.js 18+ å®‰è£…
- [ ] Python 3.9+ å®‰è£…
- [ ] MySQL 8.0 å®‰è£…é…ç½®
- [ ] Nginx å®‰è£…é…ç½®
- [ ] PM2 å®‰è£…é…ç½®

### âœ… é¡¹ç›®éƒ¨ç½²
- [ ] é¡¹ç›®æ–‡ä»¶ä¸Šä¼ 
- [ ] ç›®å½•æƒé™è®¾ç½®
- [ ] å‰ç«¯ä¾èµ–å®‰è£…
- [ ] åç«¯è™šæ‹Ÿç¯å¢ƒåˆ›å»º
- [ ] æ•°æ®åº“åˆå§‹åŒ–
- [ ] ç¯å¢ƒå˜é‡é…ç½®

### âœ… æœåŠ¡é…ç½®
- [ ] PM2 åº”ç”¨é…ç½®
- [ ] Nginx åå‘ä»£ç†é…ç½®
- [ ] SSL è¯ä¹¦ç”³è¯·é…ç½®
- [ ] é˜²ç«å¢™è§„åˆ™è®¾ç½®
- [ ] æ—¥å¿—è½®è½¬é…ç½®

### âœ… åŠŸèƒ½æµ‹è¯•
- [ ] å‰ç«¯é¡µé¢è®¿é—®æµ‹è¯•
- [ ] ç”¨æˆ·ç™»å½•åŠŸèƒ½æµ‹è¯•
- [ ] é—®ç­”åŠŸèƒ½æµ‹è¯•
- [ ] API æ¥å£æµ‹è¯•
- [ ] æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æµ‹è¯•

### âœ… æ€§èƒ½å’Œå®‰å…¨
- [ ] æ€§èƒ½å‹åŠ›æµ‹è¯•
- [ ] å®‰å…¨æ‰«ææ£€æŸ¥
- [ ] å¤‡ä»½æ¢å¤æµ‹è¯•
- [ ] ç›‘æ§å‘Šè­¦é…ç½®
- [ ] æ–‡æ¡£æ›´æ–°å®Œæˆ

---

## ğŸš¨ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

1. **ç«¯å£å ç”¨é—®é¢˜**
```bash
sudo lsof -i :3001
sudo kill -9 PID
```

2. **æƒé™é—®é¢˜**
```bash
sudo chown -R www-data:www-data /var/www/qa-system
sudo chmod -R 755 /var/www/qa-system
```

3. **æœåŠ¡å¯åŠ¨å¤±è´¥**
```bash
pm2 logs qa-frontend --lines 50
journalctl -u nginx -f
tail -f /var/log/mysql/error.log
```

4. **æ•°æ®åº“è¿æ¥é—®é¢˜**
```bash
mysql -u qa_user -p -h localhost
sudo systemctl status mysql
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç»´æŠ¤è”ç³»æ–¹å¼
- ç³»ç»Ÿç®¡ç†å‘˜ï¼šyour-admin@domain.com
- æŠ€æœ¯æ”¯æŒï¼štech-support@domain.com
- ç´§æ€¥è”ç³»ï¼š+86-xxx-xxxx-xxxx

### é‡è¦æ–‡æ¡£ä½ç½®
- é…ç½®æ–‡ä»¶ï¼š`/var/www/qa-system/config/`
- æ—¥å¿—æ–‡ä»¶ï¼š`/var/www/qa-system/logs/`
- å¤‡ä»½æ–‡ä»¶ï¼š`/var/www/qa-system/backups/`
- è„šæœ¬æ–‡ä»¶ï¼š`/var/www/qa-system/scripts/`

---

## ğŸ‰ éƒ¨ç½²å®Œæˆ

æ­å–œï¼æ‚¨çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿ v3.0 å·²æˆåŠŸéƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨ã€‚

**è®¿é—®åœ°å€**: https://yourdomain.com
**ç®¡ç†åå°**: https://yourdomain.com/admin
**APIæ–‡æ¡£**: https://yourdomain.com/api/docs

è¯·ç¡®ä¿å®šæœŸå¤‡ä»½æ•°æ®å’Œæ›´æ–°ç³»ç»Ÿå®‰å…¨è¡¥ä¸ï¼