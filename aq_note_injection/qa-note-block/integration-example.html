<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬”è®°ç³»ç»Ÿé›†æˆç¤ºä¾‹</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .note-block {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .note-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }
        
        .note-title {
            font-size: 1.5em;
            font-weight: 600;
            margin: 0;
        }
        
        .note-meta {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .note-content {
            padding: 20px;
            line-height: 1.6;
        }
        
        .note-footer {
            background: #f8f9fa;
            padding: 15px 20px;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .tags {
            display: flex;
            gap: 8px;
        }
        
        .tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
        }
        
        .input-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        textarea {
            height: 120px;
            resize: vertical;
            font-family: monospace;
        }
        
        .format-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .format-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .format-btn:hover {
            background: #218838;
        }
        
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .btn:hover {
            background: #0056b3;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .demo-note {
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #007bff;
        }
    </style>
</head>
<body>
    <h1>ğŸ“ ç¬”è®°ç³»ç»Ÿé›†æˆç¤ºä¾‹</h1>
    
    <div class="input-section">
        <h3>ğŸ’¡ åˆ›å»ºæ–°ç¬”è®°</h3>
        
        <div class="form-group">
            <label for="noteTitle">ç¬”è®°æ ‡é¢˜</label>
            <input type="text" id="noteTitle" placeholder="è¾“å…¥ç¬”è®°æ ‡é¢˜...">
        </div>
        
        <div class="form-group">
            <label for="noteContent">ç¬”è®°å†…å®¹</label>
            <div class="format-controls">
                <select id="formatStyle">
                    <option value="default">é»˜è®¤æ ¼å¼</option>
                    <option value="markdown">Markdown</option>
                    <option value="simple">ç®€åŒ–</option>
                    <option value="rich">ä¸°å¯Œ</option>
                </select>
                <button class="format-btn" onclick="applyFormat('standard')">æ ‡å‡†æ ¼å¼</button>
                <button class="format-btn" onclick="applyFormat('full')">å®Œæ•´æ ¼å¼</button>
                <button class="format-btn" onclick="applyFormat('code')">ä»£ç æ ¼å¼</button>
                <button class="format-btn" onclick="applyFormat('minimal')">ç®€åŒ–æ ¼å¼</button>
            </div>
            <textarea id="noteContent" placeholder="è¾“å…¥ç¬”è®°å†…å®¹..."></textarea>
        </div>
        
        <div class="form-group">
            <label for="noteTags">æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰</label>
            <input type="text" id="noteTags" placeholder="æ ‡ç­¾1, æ ‡ç­¾2, æ ‡ç­¾3...">
        </div>
        
        <button class="btn" onclick="saveNote()">ğŸ’¾ ä¿å­˜ç¬”è®°</button>
    </div>
    
    <div id="noteDisplay"></div>
    
    <script src="note-block-formatter.js"></script>
    <script>
        // åˆå§‹åŒ–å†…å®¹æ ¼å¼åŒ–å™¨
        const contentFormatter = new ContentFormatter({
            style: 'default',
            debugMode: false
        });
        
        // åº”ç”¨æ ¼å¼åŒ–
        function applyFormat(preset) {
            const content = document.getElementById('noteContent').value;
            const style = document.getElementById('formatStyle').value;
            
            // è®¾ç½®æ ·å¼
            contentFormatter.setStyle(style);
            
            // åº”ç”¨æ ¼å¼åŒ–
            const formatted = contentFormatter.quickFormat(content, preset);
            document.getElementById('noteContent').value = formatted;
        }
        
        // ä¿å­˜ç¬”è®°
        function saveNote() {
            const title = document.getElementById('noteTitle').value.trim();
            const content = document.getElementById('noteContent').value.trim();
            const tagsText = document.getElementById('noteTags').value.trim();
            
            if (!title || !content) {
                alert('è¯·å¡«å†™æ ‡é¢˜å’Œå†…å®¹ï¼');
                return;
            }
            
            // è§£ææ ‡ç­¾
            const tags = tagsText ? tagsText.split(',').map(tag => tag.trim()).filter(tag => tag) : [];
            
            // åˆ›å»ºç¬”è®°å¯¹è±¡ï¼ˆè¿™é‡Œæ˜¯å›ºå®šçš„ç¬”è®°å—ç»“æ„ï¼‰
            const note = {
                id: Date.now(),
                title: title,
                content: content, // å†…å®¹å·²ç»æ ¼å¼åŒ–è¿‡äº†
                tags: tags,
                timestamp: new Date().toLocaleString('zh-CN'),
                source: 'æ™ºèƒ½ç¬”è®°ç³»ç»Ÿv3.0'
            };
            
            // æ˜¾ç¤ºç¬”è®°
            displayNote(note);
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('noteTitle').value = '';
            document.getElementById('noteContent').value = '';
            document.getElementById('noteTags').value = '';
            
            console.log('ğŸ“ ä¿å­˜ç¬”è®°:', note);
        }
        
        // æ˜¾ç¤ºç¬”è®°ï¼ˆå›ºå®šçš„ç¬”è®°å—ç»“æ„ï¼‰
        function displayNote(note) {
            const noteHtml = `
                <div class="note-block">
                    <div class="note-header">
                        <h2 class="note-title">ğŸ“‹ ${note.title}</h2>
                        <div class="note-meta">
                            <span>â° ${note.timestamp}</span>
                            <span>ğŸ“Š ${note.source}</span>
                            <span>ğŸ†” #${note.id}</span>
                        </div>
                    </div>
                    
                    <div class="note-content">
                        <div class="demo-note">${note.content}</div>
                    </div>
                    
                    <div class="note-footer">
                        <div class="tags">
                            ${note.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                        </div>
                        <button class="format-btn" onclick="editNote(${note.id})">âœï¸ ç¼–è¾‘</button>
                    </div>
                </div>
            `;
            
            // æ’å…¥åˆ°é¡µé¢é¡¶éƒ¨
            const display = document.getElementById('noteDisplay');
            display.insertAdjacentHTML('afterbegin', noteHtml);
        }
        
        // ç¼–è¾‘ç¬”è®°ï¼ˆç¤ºä¾‹åŠŸèƒ½ï¼‰
        function editNote(noteId) {
            alert(`ç¼–è¾‘ç¬”è®° #${noteId} çš„åŠŸèƒ½å°†åœ¨è¿™é‡Œå®ç°`);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.addEventListener('load', function() {
            // åŠ è½½ä¸€ä¸ªç¤ºä¾‹ç¬”è®°
            const sampleNote = {
                id: 1001,
                title: 'å†…å®¹æ ¼å¼åŒ–å·¥å…·ä½¿ç”¨æŒ‡å—',
                content: `è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨å†…å®¹æ ¼å¼åŒ–å·¥å…·çš„ç¤ºä¾‹ç¬”è®°ã€‚

**é‡è¦**: ç¬”è®°å—çš„å¤–å±‚ç»“æ„æ˜¯å›ºå®šçš„
- æ ‡é¢˜æ ï¼šæ˜¾ç¤ºç¬”è®°æ ‡é¢˜å’Œå…ƒæ•°æ®
- å†…å®¹åŒºï¼šæ˜¾ç¤ºæ ¼å¼åŒ–åçš„å†…å®¹
- åº•éƒ¨æ ï¼šæ˜¾ç¤ºæ ‡ç­¾å’Œæ“ä½œæŒ‰é’®

TODO: æ·»åŠ æ›´å¤šæ ¼å¼åŒ–é€‰é¡¹
NOTE: å†…å®¹æ ¼å¼åŒ–å·¥å…·ä¸“æ³¨äºå†…å®¹å¤„ç†ï¼Œä¸æ¶‰åŠç»“æ„

\`\`\`javascript
// ç¤ºä¾‹ä»£ç å—
const formatter = new ContentFormatter();
const result = formatter.format(content);
\`\`\`

è¿™æ ·çš„è®¾è®¡è®©ç¬”è®°ç³»ç»Ÿæ›´åŠ æ¨¡å—åŒ–å’Œæ˜“äºç»´æŠ¤ã€‚`,
                tags: ['æ ¼å¼åŒ–', 'å·¥å…·', 'ç¤ºä¾‹'],
                timestamp: new Date().toLocaleString('zh-CN'),
                source: 'æ™ºèƒ½ç¬”è®°ç³»ç»Ÿv3.0'
            };
            
            displayNote(sampleNote);
            
            console.log('âœ… ç¬”è®°ç³»ç»Ÿé›†æˆç¤ºä¾‹åŠ è½½å®Œæˆ');
            console.log('ğŸ”§ æ ¼å¼åŒ–å™¨ä¿¡æ¯:', contentFormatter.getInfo());
        });
        
        // æ ·å¼åˆ‡æ¢æ—¶çš„å®æ—¶æ›´æ–°
        document.getElementById('formatStyle').addEventListener('change', function() {
            contentFormatter.setStyle(this.value);
        });
        
        // åŠ è½½ç¤ºä¾‹å†…å®¹
        function loadSampleContent() {
            const sampleContent = `äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿åˆ†æ
è¿‘å¹´æ¥AIæŠ€æœ¯å¿«é€Ÿå‘å±•
é‡è¦çªç ´åŒ…æ‹¬ï¼š
å¤§è¯­è¨€æ¨¡å‹çš„å…´èµ·
å¤šæ¨¡æ€AIçš„å‘å±•
è‡ªåŠ¨åŒ–ç¨‹åº¦æå‡

function analyzeAI() {
    return {
        trend: "upward",
        impact: "significant"
    };
}

æ³¨æ„ï¼šéœ€è¦å…³æ³¨AIä¼¦ç†é—®é¢˜
TODOï¼šæ·±å…¥ç ”ç©¶æŠ€æœ¯ç»†èŠ‚`;
            
            document.getElementById('noteContent').value = sampleContent;
        }
        
        // æ·»åŠ å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveNote();
            }
        });
    </script>
</body>
</html> 