# AI助手工作指南
*产品经理专用 - AI代码生成工作规范*

## 1. 项目架构原则

### 1.1 基础架构
- **前后端分离**：严格分离前端UI和后端服务
- **开发环境**：Windows侧开发、测试
- **部署环境**：最终部署到服务器
- **容器化**：不使用Docker，采用传统部署方式
- 模块化，模块之间尽量解耦。
- AI部分的智能体接入，约定为autogen 框架下的team 组件。要求接受方和提供方都要符合统一的autogen 框架标准接口；

### 1.2 技术栈规范
- **前端技术**：经典传统的 HTML + JavaScript
- **后端技术**：Python
- **主要平台**：PC端为主
- **移动端**：必要时使用PWA封装移动端

## 2. AI技术栈

### 2.1 核心框架
- **AI底座**：AutoGen框架
- **记忆机制**：RAG技术作为智能体和模型的长期记忆手段
- **向量数据库**：ChromaDB（AutoGen官方主要支持）

## 3. 开发方法论

### 3.1 代码生成原则
- **全AI生成**：所有代码必须由AI生成
- **质量管控**：针对AI生成代码质量不稳定问题，采用前端开发驱动方法
- **可视化验收**：使用文档驱动的可视化开发方法
- **实时监控**：前端页面驱动开发，便于产品经理随时监控进度和质量
- **功能验收**：通过前端界面进行功能验收和新增

## 4. 项目组织结构

### 4.1 目录规范
```
projects/                    # 根目录下的项目总目录
├── project-name/           # 具体项目目录
│   ├── frontend/           # 前端代码目录
│   ├── backend/            # 后端代码目录
│   ├── env/               # 环境和依赖目录
│   ├── docs/              # 项目文档目录
│   └── README.md          # 项目主文档
```

### 4.2 依赖管理
- **统一目录**：所有必要的依赖和环境放在一个目录内
- **子目录分离**：不同的依赖和环境使用不同的子目录

## 5. 文档规范

### 5.1 文档格式
- **标准格式**：所有生成的文档均为MD格式
- **项目文档**：每个项目都有独立的README文档

### 5.2 README内容要求
- 开发项目的各种主要信息
- 重要路径记录
- 前后端启动命令
- 重要脚本名称和保存位置
- 文档名称和保存位置

## 6. 代码管理

### 6.1 备份规范
- **备份时机**：每次修改代码前都应该备份原代码
- **命名规范**：备份代码名称格式为 `back+简单时间`
- **存储位置**：备份文件与源代码文件在同一个目录内

### 6.2 版本控制
- **本地仓库**：建立本地与远程仓库的联系
- **远程仓库**：远端仓库命名为 `projects`

## 7. 部署规范

### 7.1 部署文档
- **独立文档**：单独生成部署规范文档
- **环境要求**：详细说明服务器部署环境要求
- **部署步骤**：提供完整的部署操作指南

## 8. 工作流程

### 8.1 开发流程
1. 前端界面设计和原型
2. 后端API接口设计
3. AI生成前端代码
4. AI生成后端代码
5. 前端驱动的功能测试
6. 产品经理可视化验收
7. 迭代和优化

### 8.2 质量保证
- 前端页面驱动的开发方法
- 实时进度监控
- 可视化质量验收
- 基于用户界面的功能验收

---

**注意事项**：
- 本工作指南为原则性要求，AI助手必须严格遵循
- 所有项目开发必须按照此规范执行
- 任何偏离规范的行为需要产品经理明确授权 

---

## 数据结构和规范
- 笔记体为最初最基本的录入；通过笔记录入（单独开发）
- 秉承”万物皆笔记“的思想：将任务，项目，日程，计划，规划，问答，目标，战略等都视为“基础笔记块”
- 通过父子结构，标签族标记，来实现项目管理和知识管理（基础都是一样的：知识管理和项目管理是一样的方法）
- UI 的基础架构：多级嵌套的父子列表+每个节点的详情页同步的基础样式
- 查询是以父子结构和标签为基础来查询，可以同时显示父子结构和列表两种样式的查询显示；
- 基础数据根据查询和分类，将分类数据同步到不同的向量库，作为知识库和智能体的长期记忆分别根据场景而使用；
- 我们官方认定的数据格式就是：MD格式（人读）和CHROMEDB向量库（基于autogen架构官方指定）
- 工具查询使用autogen 框架内的智能体工具：google 代理 查询
- 笔记的基本单位是MD格式的笔记块；笔记块的组织通过标签族来组织起来。
- 笔记的基本样式：
	- 唯一编号ID(创建笔记时自动生成，伴随终身)
	- 标题
	- 内容
	- 时间戳（创建时间）
	- 标签族（不同的标签）
	- 创建人（多用户系统）
- 笔记的基本样式之下，有两种基本变形
	- 问答：
		- 提问作为基本样式的“标题”保存
		- AI回答：作为“内容”保存
	- 普通笔记：内容的前20个字作为标题；主体就是 内容；

与数据结构密切相关的是标签和查询；
标签采用混合方式：传统的固定标签和现代的统计标签（AI标签工具和方法）
数据的呈现：两种方式
	- 脑图：
	- 父子关系表联动 + 详情页 联动（详情页的基本样式就是笔记的基本样式）
	- 具体到个别项目，再在基本的呈现方式上做变形；

\1. 父子结构可能是无限嵌套，因此，你的靠标题符号表达的方式不行
\2. 标签本身也是有父子关系嵌套的，标签的父子关系嵌套（实际上是 不同的标签分类，也就是标签的多维管理）你 怎么在MD笔记的“标记族”部分怎么标示；
\3. 每个笔记块都应该有一个独特的自动生成的伴随终身的ID 标记；

用ID表述任意两个节点之间的任意关系；

关系的建立通过专门的工具页面设计实现（第二阶段）




---

附件一：参考文档：用任意两个笔记块（节点）表述任意关系的材料；

好的！让我为您设计一个完整的笔记块样式，将所有关系信息放在尾部的标记族区域：

## 📝 完整笔记块样式设计

### 基本格式结构

```
编号：{#唯一ID}
标题：笔记标题内容
时间：创建时间 | 更新时间  
作者：记录人

内容正文部分...
可以是多行内容
支持Markdown格式

---
【标记族】
父子关系：^父节点ID
引用关系：→引用节点ID1 →引用节点ID2
依赖关系：←依赖节点ID1 ←依赖节点ID2  
关联关系：↔关联节点ID1 ↔关联节点ID2
继承关系：↑继承源节点ID
对比关系：↕对比节点ID1 ↕对比节点ID2
冲突关系：✗冲突节点ID1 ✗冲突节点ID2
协作关系：&协作节点ID1 &协作节点ID2
分类标签：@大类.中类.小类.具体标签
业务标签：@业务分类标签
技术标签：@技术分类标签
状态标签：@状态分类标签
```

### 实际应用样例

**样例1：项目管理类笔记**

```markdown
编号：{#N158}
标题：RAG智能助手前端UI设计方案
时间：2025-05-31T10:30:00 | 2025-05-31T15:45:00
作者：张设计师

## 设计目标
设计一个现代化、用户友好的RAG智能助手前端界面，支持多通道组件管理和实时交互。

## 主要功能模块
1. **组件管理面板**
   - 四级通道展示（Team/Agent/Model/Tool）
   - 关联关系可视化显示
   - 实时状态监控

2. **智能问答界面**  
   - 对话式交互设计
   - 支持多媒体输入输出
   - 历史记录管理

3. **系统配置面板**
   - 参数调整界面
   - 性能监控图表
   - 用户权限管理

## 技术实现要点
- 采用经典HTML+JavaScript架构
- 响应式设计，支持PC端为主
- 组件化开发，便于维护扩展

---
【标记族】
父子关系：^N045
引用关系：→N089 →N124 →N135
依赖关系：←N067 ←N098
关联关系：↔N178 ↔N203
继承关系：↑N034
对比关系：↕N156 ↕N157
协作关系：&N167 &N189 &N201
项目标签：@project.rag-assistant.frontend @design.ui-ux @priority.high
技术标签：@tech.frontend.html-js @tech.responsive @tech.component-based
阶段标签：@phase.design.detailed @status.progress.80-percent
团队标签：@team.design.lead @team.frontend.collaboration @role.ui-designer
时间标签：@timeline.q2.milestone @deadline.2025-06-15.critical
复杂度标签：@complexity.medium @workload.5-days @difficulty.moderate
```

**样例2：技术文档类笔记**

```markdown
编号：{#N267}
标题：AutoGen框架多智能体协作机制深度解析
时间：2025-05-31T14:20:00 | 2025-05-31T16:30:00
作者：李技术专家

## 核心概念
AutoGen框架通过定义智能体角色、建立通信协议、设计协作流程来实现多智能体系统的高效协作。

## 协作机制详解

### 1. 角色定义机制
每个智能体都有明确的角色定义：
- **UserProxyAgent**: 用户代理，负责人机交互
- **AssistantAgent**: 助手智能体，提供专业建议  
- **GroupChatManager**: 群聊管理器，协调多智能体交互

### 2. 消息传递协议
智能体间通过结构化消息进行通信：
​```python
{
    "role": "assistant",
    "content": "消息内容",
    "name": "sender_agent_name",
    "timestamp": "2025-05-31T14:25:00"
}
```

### 3. 决策流程控制

通过条件判断和状态机制控制对话流程：

- 轮次限制机制
- 终止条件检测
- 异常处理策略

## 实践应用场景

1. **代码审查团队**: CodeReviewer + SecurityChecker + PerformanceAnalyzer
2. **需求分析团队**: BusinessAnalyst + TechnicalArchitect + UserExperienceDesigner
3. **项目管理团队**: ProjectManager + ResourcePlanner + QualityAssurance

---

【标记族】
父子关系：^N089
引用关系：→N234 →N245 →N251 →N298
依赖关系：←N156 ←N178
关联关系：↔N289 ↔N301 ↔N315
继承关系：↑N078
对比关系：↕N265 ↕N268
冲突关系：✗N263
协作关系：&N278 &N285 &N292
知识标签：@knowledge.ai.autogen @concept.multi-agent @mechanism.collaboration
技术标签：@tech.framework.autogen @tech.python.async @tech.message-passing
文档标签：@doc.technical.deep-dive @doc.type.analysis @level.expert
应用标签：@application.code-review @application.requirement-analysis @application.project-mgmt
来源标签：@source.official-docs @source.community-practice @source.experiment
质量标签：@quality.verified @completeness.comprehensive @accuracy.high

```
**样例3：会议记录类笔记**
​```markdown
编号：{#N423}
标题：RAG项目第三次技术评审会议纪要
时间：2025-05-31T09:00:00 | 2025-05-31T09:05:00
作者：王项目经理

## 会议基本信息
- **会议时间**: 2025年5月31日 上午9:00-11:00
- **会议地点**: 会议室A301 + 腾讯会议
- **主持人**: 王项目经理
- **参会人员**: 张技术总监、李前端开发、赵后端开发、陈AI工程师、孙测试工程师

## 会议议题与讨论

### 1. 前端组件管理系统进展汇报 {讨论人：李前端开发}
**当前进展**:
- ✅ 四级通道基础架构已完成
- ✅ 组件选择和层级关系逻辑已实现
- ✅ 通道过滤样式问题已修复
- 🔄 参数配置面板开发中(进度70%)

**存在问题**:
- 多通道同时高亮的性能优化需要进一步调整
- 移动端适配方案还需要细化设计

### 2. 后端API接口开发状况 {讨论人：赵后端开发}
**已完成接口**:
- `/api/components/{type}` - 组件CRUD操作
- `/api/components/{type}/{id}/related` - 关联组件查询
- `/api/search/{type}` - 组件搜索功能

**待开发接口**:
- `/api/backup` - 数据备份和恢复
- `/api/export` - 数据导出功能
- `/api/validation` - 配置验证接口

### 3. RAG智能体集成方案 {讨论人：陈AI工程师}
**技术选型确认**:
- ✅ 确定使用AutoGen + ChromaDB架构
- ✅ 向量化模型选用text-embedding-ada-002
- ✅ 对话模型采用qwen-turbo-latest

**集成计划**:
1. 第一阶段：基础问答功能(6月10日前)
2. 第二阶段：上下文记忆功能(6月20日前)  
3. 第三阶段：多轮对话优化(6月30日前)

## 决策事项
1. **前端移动端适配**: 采用PWA方案，优先级降为P2
2. **数据备份功能**: 调整为手动备份+定时备份双重机制
3. **性能测试计划**: 孙测试工程师负责制定详细测试方案

## 行动项 (Action Items)
- [ ] 李前端开发：6月5日前完成参数配置面板 {负责人：李前端开发，截止：2025-06-05}
- [ ] 赵后端开发：6月3日前完成备份接口开发 {负责人：赵后端开发，截止：2025-06-03}  
- [ ] 陈AI工程师：6月8日前完成基础RAG功能集成 {负责人：陈AI工程师，截止：2025-06-08}
- [ ] 孙测试工程师：6月1日前提交性能测试方案 {负责人：孙测试工程师，截止：2025-06-01}

## 下次会议安排
- **时间**: 2025年6月7日 上午9:00-11:00
- **地点**: 会议室A301 + 腾讯会议
- **主要议题**: RAG功能集成进展、性能测试结果、移动端适配方案

---
【标记族】
父子关系：^N089
引用关系：→N158 →N267 →N356 →N378
依赖关系：←N345 ←N367
关联关系：↔N389 ↔N401 ↔N412
协作关系：&N356 &N378 &N389 &N401 &N412
项目标签：@project.rag-assistant.meeting @meeting.tech-review @meeting.progress-sync
时间标签：@timeline.2025-05-31 @meeting.duration.2-hours @frequency.weekly
参与标签：@team.full-stack @role.pm @role.tech-lead @role.developer @role.tester
内容标签：@content.progress-report @content.technical-decision @content.action-items
优先级标签：@priority.high @urgency.normal @impact.project-milestone
跟踪标签：@tracking.action-items @tracking.deadline @tracking.progress
决策标签：@decision.architecture @decision.timeline @decision.resource-allocation
```

### 标记族字段说明

| 关系类型 | 符号 | 说明                     | 示例        |
| -------- | ---- | ------------------------ | ----------- |
| 父子关系 | ^    | 当前节点的父节点         | ^N045       |
| 引用关系 | →    | 当前节点引用的其他节点   | →N089 →N124 |
| 依赖关系 | ←    | 当前节点依赖的节点       | ←N067 ←N098 |
| 关联关系 | ↔    | 与当前节点相互关联的节点 | ↔N178 ↔N203 |
| 继承关系 | ↑    | 当前节点继承的源节点     | ↑N034       |
| 对比关系 | ↕    | 与当前节点进行对比的节点 | ↕N156 ↕N157 |
| 冲突关系 | ✗    | 与当前节点存在冲突的节点 | ✗N263       |
| 协作关系 | &    | 与当前节点协作的节点     | &N167 &N189 |

**多维标签分类**：

- **项目标签**: @project.具体项目.模块
- **技术标签**: @tech.技术栈.具体技术  
- **阶段标签**: @phase.阶段.具体状态
- **团队标签**: @team.团队.角色
- **时间标签**: @timeline.时间.里程碑
- **业务标签**: @business.业务线.具体业务

这样的设计既保持了内容的可读性，又能完整表达复杂的节点关系网络！