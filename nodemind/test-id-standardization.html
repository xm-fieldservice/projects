<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodeMind IDæ ‡å‡†åŒ–æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #333;
        }
        button {
            background: #007cba;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #005a87;
        }
        .result {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            white-space: pre-wrap;
            font-family: monospace;
            max-height: 400px;
            overflow-y: auto;
        }
        .success {
            border-color: #28a745;
            background-color: #d4edda;
        }
        .error {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .demo-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        .demo-table th, .demo-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .demo-table th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ†” NodeMind IDæ ‡å‡†åŒ– + éšæ€§å›ºå®šç»“æ„åŒ–æµ‹è¯•</h1>
        <p>æµ‹è¯•é¡¹ç›®æ‹¼éŸ³å‰ç¼€ + é€’å¢ç¼–å·çš„IDæ ‡å‡†åŒ–æ–¹æ¡ˆï¼Œä»¥åŠéšæ€§å›ºå®šç»“æ„åŒ–MDç”Ÿæˆ</p>
        
        <div class="info">
            <strong>æ–°çš„æ•°æ®ç»“æ„è§„åˆ™ï¼š</strong>
            <ul>
                <li><strong>ğŸ”’ å›ºå®šå¿…é¡»æœ‰çš„</strong>ï¼šIDï¼Œæ ‡é¢˜+å†…å®¹ï¼Œçˆ¶å­å…³ç³»ï¼Œæ—¶é—´æˆ³</li>
                <li><strong>ğŸ“ å¯é€‰æ˜¾ç¤ºçš„</strong>ï¼šæ ‡ç­¾ï¼Œå…¶ä»–å…³ç³»ï¼Œæ˜¯å¦å±•å¼€å­èŠ‚ç‚¹ï¼Œä¼šè¯å—ç­‰</li>
                <li><strong>ğŸ’¡ éšæ€§ç»“æ„åŒ–</strong>ï¼šç©ºå±æ€§ä¸æ˜¾ç¤ºï¼Œåªå‘ˆç°æœ‰å€¼çš„å±æ€§</li>
                <li><strong>ğŸ†” IDæ ‡å‡†åŒ–</strong>ï¼šé¡¹ç›®æ‹¼éŸ³å‰5å­—ç¬¦ + 3ä½é€’å¢ç¼–å·</li>
            </ul>
        </div>

        <div class="test-section">
            <h3>ğŸ“ é¡¹ç›®å‰ç¼€æµ‹è¯•</h3>
            <button onclick="testProjectPrefix()">æµ‹è¯•é¡¹ç›®å‰ç¼€ç”Ÿæˆ</button>
            <div id="projectPrefixResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ†” IDç”Ÿæˆæµ‹è¯•</h3>
            <button onclick="testIdGeneration()">æµ‹è¯•IDç”Ÿæˆ</button>
            <button onclick="testBatchIdGeneration()">æ‰¹é‡ç”Ÿæˆæµ‹è¯•</button>
            <div id="idGenerationResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>âœ… IDéªŒè¯æµ‹è¯•</h3>
            <button onclick="testIdValidation()">æµ‹è¯•IDæ ¼å¼éªŒè¯</button>
            <div id="idValidationResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š éšæ€§ç»“æ„åŒ–MDç”Ÿæˆæµ‹è¯•</h3>
            <button onclick="testStructuredMDGeneration()">æµ‹è¯•ç»“æ„åŒ–MDç”Ÿæˆ</button>
            <div id="structuredMDResult" class="result"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ¯ å®Œæ•´æ¼”ç¤º</h3>
            <button onclick="runCompleteDemo()">è¿è¡Œå®Œæ•´æ¼”ç¤º</button>
            <div id="completeDemoResult" class="result"></div>
        </div>
    </div>

    <script>
        // ğŸ†” IDæ ‡å‡†åŒ–ç®¡ç†å™¨
        class NodeIdManager {
            static projectPrefixCache = new Map();
            static nodeCounters = new Map();
            
            static chineseToPinyin(chinese) {
                const pinyinMap = {
                    'é¡¹': 'xiang', 'ç›®': 'mu', 'ç®¡': 'guan', 'ç†': 'li', 'æ€': 'si', 'ç»´': 'wei', 
                    'å¯¼': 'dao', 'å›¾': 'tu', 'ç³»': 'xi', 'ç»Ÿ': 'tong', 'è„‘': 'nao', 'å›¾': 'tu',
                    'ä¼š': 'hui', 'è¯': 'hua', 'ç¬”': 'bi', 'è®°': 'ji', 'ä»»': 'ren', 'åŠ¡': 'wu',
                    'è®¡': 'ji', 'åˆ’': 'hua', 'æ–¹': 'fang', 'æ¡ˆ': 'an', 'è®¾': 'she', 'è®¡': 'ji',
                    'å¼€': 'kai', 'å‘': 'fa', 'æµ‹': 'ce', 'è¯•': 'shi', 'éƒ¨': 'bu', 'ç½²': 'shu',
                    'å­¦': 'xue', 'ä¹ ': 'xi', 'ç ”': 'yan', 'ç©¶': 'jiu', 'æ–‡': 'wen', 'æ¡£': 'dang',
                    'çŸ¥': 'zhi', 'è¯†': 'shi', 'åº“': 'ku', 'æ•°': 'shu', 'æ®': 'ju', 'åˆ†': 'fen',
                    'æ': 'xi', 'æŠ¥': 'bao', 'å‘Š': 'gao', 'æµ': 'liu', 'ç¨‹': 'cheng', 'ä¸š': 'ye',
                    'æ ‡': 'biao', 'ç­¾': 'qian', 'èŠ‚': 'jie', 'ç‚¹': 'dian', 'å†…': 'nei', 'å®¹': 'rong'
                };
                
                let pinyin = '';
                for (let char of chinese) {
                    if (pinyinMap[char]) {
                        pinyin += pinyinMap[char];
                    } else if (/[a-zA-Z0-9]/.test(char)) {
                        pinyin += char.toLowerCase();
                    }
                }
                return pinyin;
            }
            
            static getProjectPrefix(projectName) {
                if (this.projectPrefixCache.has(projectName)) {
                    return this.projectPrefixCache.get(projectName);
                }
                
                const pinyin = this.chineseToPinyin(projectName);
                const prefix = pinyin.substring(0, 5).padEnd(5, 'x');
                
                this.projectPrefixCache.set(projectName, prefix);
                return prefix;
            }
            
            static generateNodeId(projectName = 'NodeMindé¡¹ç›®') {
                const prefix = this.getProjectPrefix(projectName);
                
                if (!this.nodeCounters.has(prefix)) {
                    this.nodeCounters.set(prefix, 0);
                }
                
                let counter = this.nodeCounters.get(prefix) + 1;
                this.nodeCounters.set(prefix, counter);
                
                const nodeId = `${prefix}${counter}`;
                return nodeId;
            }
            
            static isStandardId(nodeId) {
                const standardPattern = /^[a-z]{5}\d+$/;
                return standardPattern.test(nodeId);
            }
            
            static extractProjectPrefix(nodeId) {
                return this.isStandardId(nodeId) ? nodeId.substring(0, 5) : null;
            }
            
            static extractNodeNumber(nodeId) {
                return this.isStandardId(nodeId) ? parseInt(nodeId.substring(5), 10) : null;
            }
            
            static resetCounter(projectName) {
                const prefix = this.getProjectPrefix(projectName);
                this.nodeCounters.set(prefix, 0);
            }
            
            static getProjectStats(projectName) {
                const prefix = this.getProjectPrefix(projectName);
                const count = this.nodeCounters.get(prefix) || 0;
                
                return {
                    projectName,
                    prefix,
                    nodeCount: count,
                    nextId: `${prefix}${count + 1}`
                };
            }
        }

        // ğŸ“ éšæ€§å›ºå®šç»“æ„åŒ–MDç”Ÿæˆå™¨
        class StructuredMDGenerator {
            /**
             * ç”Ÿæˆéšæ€§å›ºå®šç»“æ„åŒ–çš„èŠ‚ç‚¹MD
             * @param {object} nodeData - èŠ‚ç‚¹æ•°æ®
             * @returns {string} MDæ ¼å¼æ–‡æœ¬
             */
            static generateNodeMD(nodeData) {
                const lines = [];
                
                // ğŸ”’ å›ºå®šå¿…é¡»æœ‰çš„éƒ¨åˆ†
                const level = Math.max(3, Math.min((nodeData.level || 1) + 2, 6));
                const headerPrefix = '#'.repeat(level);
                lines.push(`${headerPrefix} ${nodeData.title || 'æœªå‘½åèŠ‚ç‚¹'}`);
                lines.push('');
                
                // æ ¸å¿ƒå…ƒæ•°æ®è¡¨æ ¼ï¼ˆå›ºå®šå¿…é¡»æœ‰ï¼‰
                lines.push('**æ ¸å¿ƒä¿¡æ¯**:');
                lines.push('');
                lines.push('| å±æ€§ | å€¼ |');
                lines.push('|------|-----|');
                lines.push(`| èŠ‚ç‚¹ID | \`${nodeData.id}\` |`);
                
                // IDæ ¼å¼æ£€æŸ¥
                if (NodeIdManager.isStandardId(nodeData.id)) {
                    const prefix = NodeIdManager.extractProjectPrefix(nodeData.id);
                    const number = NodeIdManager.extractNodeNumber(nodeData.id);
                    lines.push(`| IDæ ¼å¼ | âœ… æ ‡å‡† (${prefix}-${number}) |`);
                }
                
                // çˆ¶å­å…³ç³»ï¼ˆå›ºå®šå¿…é¡»æœ‰ï¼‰
                if (nodeData.relations) {
                    const parentId = nodeData.relations.parent;
                    const childrenIds = nodeData.relations.children || [];
                    
                    if (parentId) {
                        lines.push(`| çˆ¶èŠ‚ç‚¹ | \`${parentId}\` |`);
                    } else {
                        lines.push(`| çˆ¶èŠ‚ç‚¹ | æ— ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ |`);
                    }
                    
                    if (childrenIds.length > 0) {
                        lines.push(`| å­èŠ‚ç‚¹ | ${childrenIds.map(id => `\`${id}\``).join(', ')} |`);
                        lines.push(`| å­èŠ‚ç‚¹æ•° | ${childrenIds.length} |`);
                    } else {
                        lines.push(`| å­èŠ‚ç‚¹ | æ—  |`);
                    }
                }
                
                // æ—¶é—´æˆ³ï¼ˆå›ºå®šå¿…é¡»æœ‰ï¼‰
                if (nodeData.created) {
                    lines.push(`| åˆ›å»ºæ—¶é—´ | ${nodeData.created} |`);
                }
                if (nodeData.modified) {
                    lines.push(`| ä¿®æ”¹æ—¶é—´ | ${nodeData.modified} |`);
                }
                
                lines.push('');
                
                // ğŸ“ å¯é€‰éƒ¨åˆ†ï¼ˆæœ‰å€¼æ‰æ˜¾ç¤ºï¼‰
                
                // è·¯å¾„ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰
                if (nodeData.path) {
                    lines.push('**è·¯å¾„ä¿¡æ¯**:');
                    lines.push('');
                    lines.push(`- èŠ‚ç‚¹è·¯å¾„: \`${nodeData.path}\``);
                    lines.push(`- èŠ‚ç‚¹å±‚çº§: ${nodeData.level || 'æœªå®šä¹‰'}`);
                    if (nodeData.mapId) {
                        lines.push(`- æ‰€å±è„‘å›¾: ${nodeData.mapId}`);
                    }
                    if (nodeData.direction) {
                        lines.push(`- æ–¹å‘: ${nodeData.direction}`);
                    }
                    lines.push('');
                }
                
                // æ ‡ç­¾ç³»ç»Ÿï¼ˆå¦‚æœæœ‰ï¼‰
                if (nodeData.tags) {
                    const allTags = [
                        ...(nodeData.tags.categories || []).map(tag => `#${tag}(åˆ†ç±»)`),
                        ...(nodeData.tags.technical || []).map(tag => `#${tag}(æŠ€æœ¯)`),
                        ...(nodeData.tags.status || []).map(tag => `#${tag}(çŠ¶æ€)`),
                        ...(nodeData.tags.custom || []).map(tag => `#${tag}(è‡ªå®šä¹‰)`)
                    ];
                    
                    if (allTags.length > 0) {
                        lines.push('**æ ‡ç­¾åˆ†ç±»**:');
                        lines.push('');
                        lines.push(allTags.join(' '));
                        lines.push('');
                    }
                }
                
                // å±•å¼€çŠ¶æ€ï¼ˆå¦‚æœæœ‰ï¼‰
                if (nodeData.expanded !== undefined) {
                    lines.push('**å±•å¼€çŠ¶æ€**:');
                    lines.push('');
                    lines.push(`- å­èŠ‚ç‚¹å±•å¼€: ${nodeData.expanded ? 'âœ… å·²å±•å¼€' : 'âŒ å·²æŠ˜å '}`);
                    lines.push('');
                }
                
                // ä½œè€…ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰
                if (nodeData.author && nodeData.author !== 'NodeMind') {
                    lines.push('**ä½œè€…ä¿¡æ¯**:');
                    lines.push('');
                    lines.push(`- ä½œè€…: ${nodeData.author}`);
                    lines.push('');
                }
                
                // èŠ‚ç‚¹å†…å®¹ï¼ˆå›ºå®šå¿…é¡»æœ‰ï¼‰
                lines.push('**èŠ‚ç‚¹å†…å®¹**:');
                lines.push('');
                if (nodeData.content && nodeData.content.trim()) {
                    lines.push('```text');
                    lines.push(nodeData.content.trim());
                    lines.push('```');
                } else {
                    lines.push('*æš‚æ— å†…å®¹*');
                }
                lines.push('');
                
                return lines.join('\n');
            }
            
            /**
             * ç”Ÿæˆä¼šè¯å—MDï¼ˆå¦‚æœæœ‰ä¼šè¯ï¼‰
             * @param {object} sessionData - ä¼šè¯æ•°æ®
             * @returns {string} MDæ ¼å¼æ–‡æœ¬
             */
            static generateSessionBlockMD(sessionData) {
                if (!sessionData || !sessionData.sessions || sessionData.sessions.length === 0) {
                    return '';
                }
                
                const lines = [];
                lines.push('**ä¼šè¯è®°å½•**:');
                lines.push('');
                
                sessionData.sessions.forEach((session, index) => {
                    lines.push(`**ä¼šè¯ ${index + 1}**: ${session.title || 'æ— æ ‡é¢˜'}`);
                    lines.push('');
                    lines.push(`- ä¼šè¯ID: \`${session.id}\``);
                    lines.push(`- ä¼šè¯ç±»å‹: ${session.type || 'note'}`);
                    lines.push(`- åˆ›å»ºæ—¶é—´: ${session.timestamp || 'æœªçŸ¥'}`);
                    if (session.isFavorited) {
                        lines.push(`- çŠ¶æ€: â­ å·²æ”¶è—`);
                    }
                    lines.push('');
                    
                    if (session.content && session.content.trim()) {
                        lines.push('```text');
                        lines.push(session.content.trim());
                        lines.push('```');
                    } else {
                        lines.push('*æš‚æ— ä¼šè¯å†…å®¹*');
                    }
                    lines.push('');
                });
                
                return lines.join('\n');
            }
        }

        // æµ‹è¯•å‡½æ•°
        function testProjectPrefix() {
            const result = document.getElementById('projectPrefixResult');
            try {
                const testProjects = [
                    'NodeMindé¡¹ç›®ç®¡ç†',
                    'æ€ç»´å¯¼å›¾ç³»ç»Ÿ', 
                    'ä¼šè¯ç¬”è®°',
                    'ä»»åŠ¡è®¡åˆ’',
                    'Reactå¼€å‘',
                    'æµ‹è¯•'
                ];

                let output = "ğŸ” é¡¹ç›®å‰ç¼€ç”Ÿæˆæµ‹è¯•ï¼š\n\n";
                
                testProjects.forEach(projectName => {
                    const prefix = NodeIdManager.getProjectPrefix(projectName);
                    const pinyin = NodeIdManager.chineseToPinyin(projectName);
                    output += `é¡¹ç›®: ${projectName}\n`;
                    output += `æ‹¼éŸ³: ${pinyin}\n`;
                    output += `å‰ç¼€: ${prefix}\n`;
                    output += `ç¤ºä¾‹: ${prefix}001, ${prefix}002\n\n`;
                });

                result.textContent = output;
                result.className = 'result success';
            } catch (error) {
                result.textContent = `âŒ æµ‹è¯•å¤±è´¥: ${error.message}`;
                result.className = 'result error';
            }
        }

        function testIdGeneration() {
            const result = document.getElementById('idGenerationResult');
            try {
                const projectName = 'NodeMindé¡¹ç›®ç®¡ç†';
                let output = `ğŸ†” IDç”Ÿæˆæµ‹è¯• - é¡¹ç›®: ${projectName}\n\n`;
                
                for (let i = 1; i <= 8; i++) {
                    const nodeId = NodeIdManager.generateNodeId(projectName);
                    output += `${i.toString().padStart(2, '0')}. ${nodeId}\n`;
                }
                
                const stats = NodeIdManager.getProjectStats(projectName);
                output += `\nç»Ÿè®¡: å‰ç¼€=${stats.prefix}, èŠ‚ç‚¹æ•°=${stats.nodeCount}\n`;

                result.textContent = output;
                result.className = 'result success';
            } catch (error) {
                result.textContent = `âŒ æµ‹è¯•å¤±è´¥: ${error.message}`;
                result.className = 'result error';
            }
        }

        function testBatchIdGeneration() {
            const result = document.getElementById('idGenerationResult');
            try {
                const projects = ['æ€ç»´å¯¼å›¾ç³»ç»Ÿ', 'ä¼šè¯ç¬”è®°', 'Reactå¼€å‘'];
                let output = "ğŸš€ æ‰¹é‡IDç”Ÿæˆæµ‹è¯•ï¼š\n\n";
                
                projects.forEach(projectName => {
                    output += `=== ${projectName} ===\n`;
                    for (let i = 1; i <= 3; i++) {
                        const nodeId = NodeIdManager.generateNodeId(projectName);
                        output += `${nodeId}\n`;
                    }
                    output += '\n';
                });

                result.textContent = output;
                result.className = 'result success';
            } catch (error) {
                result.textContent = `âŒ æµ‹è¯•å¤±è´¥: ${error.message}`;
                result.className = 'result error';
            }
        }

        function testIdValidation() {
            const result = document.getElementById('idValidationResult');
            try {
                const testIds = [
                    'nodem001',  // âœ… æ ‡å‡†æ ¼å¼
                    'siwei005',  // âœ… æ ‡å‡†æ ¼å¼  
                    '757ec59b0fb95687',  // âŒ éæ ‡å‡†æ ¼å¼
                    'virtual_center_123',  // âŒ éæ ‡å‡†æ ¼å¼
                    'react012'   // âœ… æ ‡å‡†æ ¼å¼
                ];

                let output = "âœ… IDæ ¼å¼éªŒè¯æµ‹è¯•ï¼š\n\n";
                
                testIds.forEach(nodeId => {
                    const isStandard = NodeIdManager.isStandardId(nodeId);
                    const prefix = NodeIdManager.extractProjectPrefix(nodeId);
                    const number = NodeIdManager.extractNodeNumber(nodeId);
                    const status = isStandard ? 'âœ… æ ‡å‡†' : 'âŒ éæ ‡å‡†';
                    
                    output += `ID: ${nodeId}\n`;
                    output += `æ ¼å¼: ${status}\n`;
                    if (isStandard) {
                        output += `å‰ç¼€: ${prefix}, ç¼–å·: ${number}\n`;
                    }
                    output += '\n';
                });

                result.textContent = output;
                result.className = 'result success';
            } catch (error) {
                result.textContent = `âŒ æµ‹è¯•å¤±è´¥: ${error.message}`;
                result.className = 'result error';
            }
        }

        function testStructuredMDGeneration() {
            const result = document.getElementById('structuredMDResult');
            try {
                // åˆ›å»ºæµ‹è¯•èŠ‚ç‚¹æ•°æ®
                const testNodes = [
                    {
                        id: NodeIdManager.generateNodeId('NodeMindé¡¹ç›®ç®¡ç†'),
                        title: 'é¡¹ç›®æ ¹èŠ‚ç‚¹',
                        content: 'è¿™æ˜¯é¡¹ç›®ç®¡ç†çš„æ ¹èŠ‚ç‚¹ï¼ŒåŒ…å«é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯å’Œè§„åˆ’ã€‚',
                        level: 1,
                        relations: {
                            parent: null,
                            children: ['nodem002', 'nodem003']
                        },
                        created: '2024-01-01T10:00:00.000Z',
                        modified: '2024-01-01T15:30:00.000Z',
                        path: 'project/nodem001',
                        mapId: 'project',
                        tags: {
                            categories: ['ç®¡ç†', 'é¡¹ç›®'],
                            technical: [],
                            status: ['active'],
                            custom: []
                        },
                        expanded: true,
                        author: 'å¼ ä¸‰'
                    },
                    {
                        id: NodeIdManager.generateNodeId('NodeMindé¡¹ç›®ç®¡ç†'),
                        title: 'éœ€æ±‚åˆ†æ',
                        content: '',  // ç©ºå†…å®¹æµ‹è¯•
                        level: 2,
                        relations: {
                            parent: 'nodem001',
                            children: []
                        },
                        created: '2024-01-02T09:00:00.000Z',
                        modified: '2024-01-02T09:00:00.000Z'
                        // æ²¡æœ‰æ ‡ç­¾ã€è·¯å¾„ç­‰å¯é€‰å±æ€§
                    }
                ];

                let output = "ğŸ“ éšæ€§å›ºå®šç»“æ„åŒ–MDç”Ÿæˆæµ‹è¯•ï¼š\n\n";
                output += "=".repeat(50) + "\n\n";
                
                testNodes.forEach((nodeData, index) => {
                    output += `=== èŠ‚ç‚¹ ${index + 1}: ${nodeData.title} ===\n\n`;
                    const nodeMD = StructuredMDGenerator.generateNodeMD(nodeData);
                    output += nodeMD;
                    output += "\n" + "-".repeat(30) + "\n\n";
                });

                result.textContent = output;
                result.className = 'result success';
            } catch (error) {
                result.textContent = `âŒ æµ‹è¯•å¤±è´¥: ${error.message}`;
                result.className = 'result error';
            }
        }

        function runCompleteDemo() {
            const result = document.getElementById('completeDemoResult');
            try {
                let output = "ğŸ¯ NodeMindå®Œæ•´æ¼”ç¤º\n\n";
                
                output += "=== 1. IDæ ‡å‡†åŒ–æ¼”ç¤º ===\n";
                const projectName = 'NodeMindé¡¹ç›®ç®¡ç†';
                const nodeId1 = NodeIdManager.generateNodeId(projectName);
                const nodeId2 = NodeIdManager.generateNodeId(projectName);
                output += `é¡¹ç›®: ${projectName}\n`;
                output += `ç”ŸæˆID: ${nodeId1}, ${nodeId2}\n\n`;
                
                output += "=== 2. éšæ€§ç»“æ„åŒ–æ¼”ç¤º ===\n";
                const sampleNode = {
                    id: nodeId1,
                    title: 'ç¤ºä¾‹èŠ‚ç‚¹',
                    content: 'è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹èŠ‚ç‚¹å†…å®¹',
                    level: 2,
                    relations: {
                        parent: 'nodem000',
                        children: [nodeId2]
                    },
                    created: new Date().toISOString(),
                    modified: new Date().toISOString(),
                    tags: {
                        categories: ['ç¤ºä¾‹'],
                        status: ['æµ‹è¯•']
                    }
                };
                
                output += "ç”Ÿæˆçš„MDç»“æ„ï¼š\n";
                output += StructuredMDGenerator.generateNodeMD(sampleNode);
                
                output += "\n=== 3. ä¼˜åŠ¿æ€»ç»“ ===\n";
                output += "âœ… IDæ ‡å‡†åŒ–: è¯­ä¹‰åŒ–å‰ç¼€ + æœ‰åºç¼–å·\n";
                output += "âœ… ç»“æ„æ¸…æ™°: å›ºå®šå¿…é¡»é¡¹ + å¯é€‰æ˜¾ç¤ºé¡¹\n";
                output += "âœ… ç®€æ´é«˜æ•ˆ: ç©ºå±æ€§ä¸æ˜¾ç¤ºï¼Œé¿å…å†—ä½™\n";
                output += "âœ… æ˜“äºè§£æ: ç»“æ„åŒ–ç¨‹åº¦é«˜ï¼Œä¾¿äºç¨‹åºå¤„ç†\n";

                result.textContent = output;
                result.className = 'result success';
            } catch (error) {
                result.textContent = `âŒ æ¼”ç¤ºå¤±è´¥: ${error.message}`;
                result.className = 'result error';
            }
        }
    </script>
</body>
</html> 