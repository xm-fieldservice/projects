<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸…ç©ºæŒ‰é’®åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .btn { padding: 10px 20px; margin: 10px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-info { background: #17a2b8; color: white; }
        .btn-warning { background: #ffc107; color: black; }
        .content-editor { width: 100%; height: 200px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .log { background: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; white-space: pre-wrap; max-height: 200px; overflow-y: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§¹ æ¸…ç©ºæŒ‰é’®åŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="test-section">
            <h3>ğŸ“ å†…å®¹ç¼–è¾‘å™¨æµ‹è¯•</h3>
            <div class="button-group">
                <button class="btn btn-info" onclick="clearContentEditor()" title="æ¸…ç©ºå†…å®¹ç¼–è¾‘å™¨">ğŸ§¹ æ¸…ç©º</button>
                <button class="btn btn-secondary" onclick="fillTestContent()" title="å¡«å…¥æµ‹è¯•å†…å®¹">ğŸ“ å¡«å…¥æµ‹è¯•å†…å®¹</button>
                <button class="btn btn-secondary" onclick="checkElements()" title="æ£€æŸ¥å…ƒç´ ">ğŸ” æ£€æŸ¥å…ƒç´ </button>
            </div>
            <br>
            <textarea class="content-editor" id="content-editor" placeholder="åœ¨è¿™é‡Œç¼–è¾‘èŠ‚ç‚¹å†…å®¹...">è¿™æ˜¯ä¸€äº›æµ‹è¯•å†…å®¹ï¼Œç”¨äºéªŒè¯æ¸…ç©ºåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</textarea>
        </div>
        
        <div class="test-section">
            <h3>ğŸ“Š è°ƒè¯•æ—¥å¿—</h3>
            <div id="debug-log" class="log">ç­‰å¾…æµ‹è¯•...</div>
            <button class="btn" onclick="clearLog()">æ¸…é™¤æ—¥å¿—</button>
        </div>
        
        <div class="test-section">
            <h3>ğŸ§ª æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤</h3>
            <ol>
                <li>ç‚¹å‡»"å¡«å…¥æµ‹è¯•å†…å®¹"æŒ‰é’®ï¼Œç¡®ä¿ç¼–è¾‘å™¨æœ‰å†…å®¹</li>
                <li>ç‚¹å‡»"ğŸ§¹ æ¸…ç©º"æŒ‰é’®ï¼Œè§‚å¯Ÿå†…å®¹æ˜¯å¦è¢«æ¸…ç©º</li>
                <li>å†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼ˆåº”è¯¥å˜ä¸º"ğŸ”„ æ¢å¤"ï¼‰ï¼Œè§‚å¯Ÿå†…å®¹æ˜¯å¦æ¢å¤</li>
                <li>æŸ¥çœ‹è°ƒè¯•æ—¥å¿—äº†è§£è¯¦ç»†æ‰§è¡Œæƒ…å†µ</li>
            </ol>
        </div>
    </div>

    <script>
        // æ¸…ç©ºå†…å®¹ç¼–è¾‘å™¨ï¼ˆè§†è§‰æ¸…ç©ºï¼Œä¿ç•™åŸå§‹æ•°æ®ï¼‰
        let originalContentBackup = ''; // ç”¨äºä¿å­˜åŸå§‹å†…å®¹
        let isContentCleared = false; // æ ‡è®°æ˜¯å¦å·²æ¸…ç©º
        
        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            const logElement = document.getElementById('debug-log');
            logElement.textContent += `[${timestamp}] ${message}\n`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(message);
        }
        
        function clearContentEditor() {
            log('ğŸ§¹ [æ¸…ç©ºåŠŸèƒ½] å¼€å§‹æ¸…ç©ºå†…å®¹ç¼–è¾‘å™¨');
            const contentEditor = document.getElementById('content-editor');
            const clearButton = document.querySelector('button[onclick="clearContentEditor()"]');
            
            log('ğŸ” [æ£€æŸ¥] å†…å®¹ç¼–è¾‘å™¨å…ƒç´ : ' + (contentEditor ? 'æ‰¾åˆ°' : 'æœªæ‰¾åˆ°'));
            log('ğŸ” [æ£€æŸ¥] æ¸…ç©ºæŒ‰é’®å…ƒç´ : ' + (clearButton ? 'æ‰¾åˆ°' : 'æœªæ‰¾åˆ°'));
            
            if (!contentEditor) {
                log('âŒ [æ¸…ç©ºåŠŸèƒ½] æ‰¾ä¸åˆ°å†…å®¹ç¼–è¾‘å™¨å…ƒç´ ');
                return;
            }
            
            log('ğŸ“ [çŠ¶æ€] å½“å‰æ¸…ç©ºçŠ¶æ€: ' + (isContentCleared ? 'å·²æ¸…ç©º' : 'æœªæ¸…ç©º'));
            log('ğŸ“ [çŠ¶æ€] å½“å‰å†…å®¹é•¿åº¦: ' + contentEditor.value.length);
            
            // å¦‚æœè¿˜æ²¡æœ‰æ¸…ç©ºï¼Œåˆ™ä¿å­˜å½“å‰å†…å®¹å¹¶æ¸…ç©ºæ˜¾ç¤º
            if (!isContentCleared) {
                originalContentBackup = contentEditor.value;
                contentEditor.value = '';
                contentEditor.placeholder = 'è¯·è¾“å…¥æ–°çš„ä¼šè¯å†…å®¹...ï¼ˆåŸå†…å®¹å·²ä¿å­˜ï¼‰';
                isContentCleared = true;
                
                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                if (clearButton) {
                    clearButton.innerHTML = 'ğŸ”„ æ¢å¤';
                    clearButton.title = 'æ¢å¤åŸå§‹å†…å®¹';
                    clearButton.className = 'btn btn-warning';
                }
                
                log('âœ… [æ¸…ç©ºåŠŸèƒ½] å†…å®¹å·²è§†è§‰æ¸…ç©ºï¼ŒåŸå†…å®¹å·²å¤‡ä»½');
                log('ğŸ“ [æ¸…ç©ºåŠŸèƒ½] å¤‡ä»½å†…å®¹é•¿åº¦: ' + originalContentBackup.length);
            } else {
                // å¦‚æœå·²ç»æ¸…ç©ºï¼Œåˆ™æ¢å¤åŸå†…å®¹
                contentEditor.value = originalContentBackup;
                contentEditor.placeholder = 'åœ¨è¿™é‡Œç¼–è¾‘èŠ‚ç‚¹å†…å®¹...';
                isContentCleared = false;
                
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                if (clearButton) {
                    clearButton.innerHTML = 'ğŸ§¹ æ¸…ç©º';
                    clearButton.title = 'æ¸…ç©ºå†…å®¹ç¼–è¾‘å™¨';
                    clearButton.className = 'btn btn-info';
                }
                
                log('ğŸ”„ [æ¸…ç©ºåŠŸèƒ½] å·²æ¢å¤åŸå§‹å†…å®¹');
            }
            
            // èšç„¦åˆ°ç¼–è¾‘å™¨ï¼Œæ–¹ä¾¿ç”¨æˆ·è¾“å…¥
            contentEditor.focus();
            log('ğŸ¯ [æ¸…ç©ºåŠŸèƒ½] å·²èšç„¦åˆ°ç¼–è¾‘å™¨');
        }
        
        function fillTestContent() {
            const contentEditor = document.getElementById('content-editor');
            if (contentEditor) {
                contentEditor.value = 'è¿™æ˜¯ä¸€äº›æµ‹è¯•å†…å®¹ï¼Œç”¨äºéªŒè¯æ¸…ç©ºåŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚\n\nåŒ…å«å¤šè¡Œæ–‡æœ¬å’Œä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼š!@#$%^&*()';
                log('ğŸ“ [æµ‹è¯•] å·²å¡«å…¥æµ‹è¯•å†…å®¹');
            }
        }
        
        function checkElements() {
            log('ğŸ” [æ£€æŸ¥] å¼€å§‹æ£€æŸ¥é¡µé¢å…ƒç´ ...');
            
            const contentEditor = document.getElementById('content-editor');
            const clearButton = document.querySelector('button[onclick="clearContentEditor()"]');
            
            log('ğŸ“ content-editor å…ƒç´ : ' + (contentEditor ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'));
            if (contentEditor) {
                log('   - ID: ' + contentEditor.id);
                log('   - æ ‡ç­¾å: ' + contentEditor.tagName);
                log('   - å†…å®¹é•¿åº¦: ' + contentEditor.value.length);
                log('   - Placeholder: ' + contentEditor.placeholder);
            }
            
            log('ğŸ”˜ æ¸…ç©ºæŒ‰é’®å…ƒç´ : ' + (clearButton ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'));
            if (clearButton) {
                log('   - æ–‡æœ¬: ' + clearButton.textContent);
                log('   - ç±»å: ' + clearButton.className);
                log('   - onclick: ' + clearButton.getAttribute('onclick'));
            }
            
            log('ğŸ¯ å…¨å±€å˜é‡çŠ¶æ€:');
            log('   - isContentCleared: ' + isContentCleared);
            log('   - originalContentBackup é•¿åº¦: ' + originalContentBackup.length);
        }
        
        function clearLog() {
            document.getElementById('debug-log').textContent = '';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ é¡µé¢åŠ è½½å®Œæˆï¼Œæ¸…ç©ºåŠŸèƒ½æµ‹è¯•é¡µé¢å·²å‡†å¤‡å°±ç»ª');
            checkElements();
        });
    </script>
</body>
</html> 